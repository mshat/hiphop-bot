# hiphop-bot

![GitHub Classroom Workflow](../../workflows/GitHub%20Classroom%20Workflow/badge.svg?branch=master)

## Описание
Учебный проект: рекомендательная система для подбора музыкантов в жанре русского хип-хопа. 
Имеет разговорный интерфейс, то есть анализирует не заранее заданные команды, а сообщения на естественном языке. 
Работает через консоль или как телеграм-бот.

## Возможности
1. Подбор списка музыкантов, похожих на заданного.
2. Подбор списка рекомендаций по предпочтениям (по лайкам и дизлайкам).
3. Фильтрация артистов по полу, возрасту или количеству участников коллектива.
4. Еще несколько других, менее важных.

## Особенности
* Алгоритм определения схожести артистов базируется на обобщающей мере близости, включающей расчёт близости жанров музыки артистов (по дереву жанров), пола и возраста музыкантов, количеству участников коллектива и преобладающему антуражу песен исполнителей.
* Распознавание фразы на естественном языке разговорным интерфейсом реализовано при помощи системы шаблонов фраз, которые сопоставляются с входным сообщением после токенизации и нормализации последнего. Для более удобной настройки шаблонов релазизована система проверки логических условий.
* Для системы сопоставления шаблонов и системы проверки логических условий написаны юнит и интеграционные тесты.
* Автоматическая сборка и деплой телеграм-бота на Heroku при помощи Github Actions. Проект обёрнут в Docker и может быть развёрнут с локальной БД (docker-compose.yml)
* Использутеся база данных PostgreSQL для хранения списка пользователей, истории их запросов к боту и данных рекомендательной системы (список артистов, жанров и тд).
* Для взаимодействия с данными в базе для каждой таблицы созданы классы-модели, наподобие ORM моделей в Django.
* Модуль разговорного бота имеет MVC архитектуру и два интерфейса: консольный и в виде телеграм-бота.
* Взаимодействие с Postgres организовано через пул соединений ThreadedConnectionPool модуля psycopg2.
